<%- include('../partials/head') %>
</head>
<body class="bg-gradient-to-br from-blue-50 to-pink-100 min-h-screen">
    <%- include('../partials/header') %>
    <main class="flex flex-col items-center justify-start mx-auto w-full max-w-2xl mt-10 px-4">
        <div class="bg-white shadow-2xl rounded-2xl p-10 w-full">
            <h1 class="text-3xl text-center font-extrabold mb-8 text-blue-600 tracking-tight">
                <%=editing?"Edit":"Register"%> Your Home on AirBnB
            </h1>
            <form class="space-y-6" action="/host/<%=editing?"edit-home":"add-home" %>" method="POST" enctype="multipart/form-data">
                <input type="hidden" name="id" value="<%=editing?home._id:"" %>">    

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="houseName">House Name</label>
                    <input
                        class="w-full border border-gray-300 rounded-lg py-2 px-3 text-base focus:outline-none focus:ring-2 focus:ring-pink-400 transition"
                        type="text"
                        value="<%=editing?home.houseName:"" %>"
                        name="houseName"
                        id="houseName"
                        placeholder="Enter your House Name" />
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="price">Price per Night</label>
                    <input 
                        class="w-full border border-gray-300 rounded-lg py-2 px-3 text-base focus:outline-none focus:ring-2 focus:ring-pink-400 transition"
                        type="number"
                        min="0"
                        value="<%=editing?home.price:"" %>"
                        name="price"
                        id="price"
                        placeholder="Price per Night" />
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="location">Location</label>
                    <input 
                        class="w-full border border-gray-300 rounded-lg py-2 px-3 text-base focus:outline-none focus:ring-2 focus:ring-pink-400 transition"
                        type="text"
                        value="<%=editing?home.location:"" %>"
                        name="location"
                        id="location"
                        placeholder="Location" />
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="rating">Rating</label>
                    <input 
                        class="w-full border border-gray-300 rounded-lg py-2 px-3 text-base focus:outline-none focus:ring-2 focus:ring-pink-400 transition"
                        type="number"
                        value="<%=editing?home.rating:"" %>"
                        name="rating"
                        id="rating"
                        placeholder="Rating (0-5)" />
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="photo">Home Photo</label>
                    <div class="flex items-center space-x-4">
                        <input
                            class="block w-full text-base text-gray-700 border border-gray-300 rounded-lg cursor-pointer bg-white focus:outline-none focus:ring-2 focus:ring-pink-400 transition file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-base file:font-semibold file:bg-pink-50 file:text-pink-700 hover:file:bg-pink-100"
                            type="file"
                            name="photo"
                            id="photo"
                            accept="image/jpg, image/jpeg, image/png"
                        />
                        <% if (editing && home.photo) { %>
                            <img src="<%= home.photo %>" alt="Current Home Photo" class="h-16 w-16 object-cover rounded-lg shadow border border-gray-200" />
                        <% } %>
                    </div>
                </div>

                <div>
                    <label class="block text-gray-700 font-medium mb-1" for="description">Description</label>
                    <textarea 
                        class="w-full border border-gray-300 rounded-lg py-2 px-3 text-base focus:outline-none focus:ring-2 focus:ring-pink-400 transition resize-none"
                        placeholder="Describe your Home"
                        name="description"
                        id="description"
                        rows="4"><%=editing?home.description:"" %></textarea>
                </div>

                <div class="flex justify-center">
                    <input 
                        class="bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-8 rounded-lg w-full shadow-lg transition"
                        type="submit" value="<%=editing?"Update":"Add Home"%>" />
                </div>
            </form>
        </div>
    </main>
</body>
</html>
